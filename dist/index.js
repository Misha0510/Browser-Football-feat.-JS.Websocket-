(()=>{var e={520:e=>{var t;function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=Object.freeze((n(t={PLAYER_RADIUS:20,PLAYER_MAX_HP:100,PLAYER_SPEED:400,PLAYER_FIRE_COOLDOWN:.25,BULLET_RADIUS:3,BULLET_SPEED:800,BULLET_DAMAGE:10,SCORE_BULLET_HIT:20,SCORE_PER_SECOND:1,MAP_SIZE:500,MAP_SIZE_X:1920,MAP_SIZE_Y:1080,BALL:{MASS:50,RADIUS:7,COLOR:"red"}},"PLAYER_RADIUS",10),n(t,"SERVER_PING",100),n(t,"MSG_TYPES",{JOIN_GAME:"join_game",GAME_UPDATE:"update",INPUT:"input",GAME_OVER:"dead",PING:"ping"}),t))}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}(()=>{"use strict";var e=n(520);function t(t){var n={x:t,y:0};socket.emit(e.MSG_TYPES.INPUT,n)}function o(t){var n={x:0,y:t};socket.emit(e.MSG_TYPES.INPUT,n)}var i=n(520);document.addEventListener("DOMContentLoaded",(function(){var e,n=document.getElementById("ping"),a=document.getElementById("nickname_form"),c=document.getElementById("start_game_button"),r=(document.getElementById("body"),document.createElement("table"),document.createElement("tbody"),document.getElementById("canvas")),E=r.getContext("2d");function l(e,t,n,o,i,a,c){e.beginPath(),e.arc(t,n,o,0,2*Math.PI,!1),i&&(e.fillStyle=i,e.fill()),a&&(e.lineWidth=c,e.strokeStyle=a,e.stroke())}function d(){E.fillStyle="#FFFF00",E.clearRect(0,0,r.width,r.height),console.log(e.ball.x,e.ball.y),l(E,e.ball.x,e.ball.y,i.BALL.RADIUS,i.BALL.COLOR,"black"),e.players.forEach((function(e){l(E,e.x,e.y,i.PLAYER_RADIUS,"black","red",2)}))}E.canvas.width=window.innerWidth,E.canvas.height=window.innerHeight,console.log(r.width+"x"+r.height);var s=!1;socket.on(i.MSG_TYPES.PING,(function(e){s=!0,n.innerHTML="Ping: "+(Date.now()-e)+" ms"})),socket.on(i.MSG_TYPES.GAME_UPDATE,(function(t){e=t,console.log(t),requestAnimationFrame(d)})),document.getElementById("start_game_button").addEventListener("click",(function(){a.style.display="none",c.style.display="none",r.style.background="white",document.addEventListener("keypress",(function(e){"KeyS"===e.code?o(10):"KeyW"===e.code?o(-10):"KeyA"===e.code?t(-10):"KeyD"===e.code&&t(10)}),!1);var e=a.value;socket.emit(i.MSG_TYPES.JOIN_GAME,e)}),!1),socket.on("ping",(function(e){s=!0,n.innerHTML="Ping: "+(Date.now()-e)+" ms"})),setInterval((function(){s=!1,socket.emit("ping",Date.now()),s||(n.innerHTML="Connection lost")}),500)}),!1)})()})();